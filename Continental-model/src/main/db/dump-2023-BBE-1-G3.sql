--
-- PostgreSQL database dump
--

-- Dumped from database version 11.16 (Debian 11.16-0+deb10u1)
-- Dumped by pg_dump version 14.2

-- Started on 2023-07-27 08:19:46

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

--DROP DATABASE "2023-BBE-1-G3";
--
-- TOC entry 3140 (class 1262 OID 206204)
-- Name: 2023-BBE-1-G3; Type: DATABASE; Schema: -; Owner: -
--

--CREATE DATABASE "2023-BBE-1-G3" WITH TEMPLATE = template0 ENCODING = 'UTF8' LOCALE = 'en_US.UTF-8';


\connect -reuse-previous=on "dbname='2023-BBE-1-G3'"

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

--
-- TOC entry 3 (class 2615 OID 2200)
-- Name: public; Type: SCHEMA; Schema: -; Owner: -
--

--CREATE SCHEMA public;


--
-- TOC entry 3141 (class 0 OID 0)
-- Dependencies: 3
-- Name: SCHEMA public; Type: COMMENT; Schema: -; Owner: -
--

COMMENT ON SCHEMA public IS 'standard public schema';


SET default_tablespace = '';

--
-- TOC entry 234 (class 1259 OID 267852)
-- Name: accesscard_booking; Type: TABLE; Schema: public; Owner: -
--

CREATE TABLE public.accesscard_booking (
    access_card_assignment_id integer NOT NULL,
    access_card_id integer,
    booking_id integer
);


--
-- TOC entry 233 (class 1259 OID 267850)
-- Name: accesscard_booking_access_card_assignment_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

ALTER TABLE public.accesscard_booking ALTER COLUMN access_card_assignment_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.accesscard_booking_access_card_assignment_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 212 (class 1259 OID 267682)
-- Name: accesscards; Type: TABLE; Schema: public; Owner: -
--

CREATE TABLE public.accesscards (
    access_card_id integer NOT NULL,
    hotel_id integer,
    available boolean DEFAULT true,
    card_down_date date
);


--
-- TOC entry 211 (class 1259 OID 267680)
-- Name: accesscards_access_card_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

ALTER TABLE public.accesscards ALTER COLUMN access_card_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.accesscards_access_card_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 226 (class 1259 OID 267788)
-- Name: bookings; Type: TABLE; Schema: public; Owner: -
--

CREATE TABLE public.bookings (
    booking_id integer NOT NULL,
    room_id integer NOT NULL,
    initial_date date NOT NULL,
    end_date date NOT NULL,
    client_id integer NOT NULL,
    checkin_datetime timestamp without time zone,
    checkout_datetime timestamp without time zone,
    price numeric
);


--
-- TOC entry 225 (class 1259 OID 267786)
-- Name: bookings_booking_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

ALTER TABLE public.bookings ALTER COLUMN booking_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.bookings_booking_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 197 (class 1259 OID 267608)
-- Name: clients; Type: TABLE; Schema: public; Owner: -
--

CREATE TABLE public.clients (
    client_id integer NOT NULL,
    tuser_name character varying(50)
);


--
-- TOC entry 196 (class 1259 OID 267606)
-- Name: clients_client_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

ALTER TABLE public.clients ALTER COLUMN client_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.clients_client_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 199 (class 1259 OID 267615)
-- Name: criteria; Type: TABLE; Schema: public; Owner: -
--

CREATE TABLE public.criteria (
    criteria_id integer NOT NULL,
    name character varying(255) NOT NULL,
    description text,
    multiplier numeric,
    type character varying(255),
    date_condition text
);


--
-- TOC entry 198 (class 1259 OID 267613)
-- Name: criteria_criteria_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

ALTER TABLE public.criteria ALTER COLUMN criteria_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.criteria_criteria_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 218 (class 1259 OID 267725)
-- Name: rooms; Type: TABLE; Schema: public; Owner: -
--

CREATE TABLE public.rooms (
    room_id integer NOT NULL,
    hotel_id integer NOT NULL,
    room_number integer NOT NULL,
    room_down_date date,
    room_type_id integer
);


--
-- TOC entry 237 (class 1259 OID 267884)
-- Name: current_bookings; Type: VIEW; Schema: public; Owner: -
--

CREATE VIEW public.current_bookings AS
 SELECT r.booking_id,
    r.room_id,
    r.initial_date,
    r.end_date,
    r.client_id,
    h.hotel_id,
    h.room_type_id,
    h.room_number,
    h.room_down_date
   FROM (public.rooms h
     LEFT JOIN public.bookings r ON ((h.room_id = r.room_id)))
  WHERE (((r.initial_date <= CURRENT_DATE) AND (r.end_date >= CURRENT_DATE)) OR ((r.initial_date >= CURRENT_DATE) AND (r.end_date >= CURRENT_DATE)));


--
-- TOC entry 214 (class 1259 OID 267695)
-- Name: employees; Type: TABLE; Schema: public; Owner: -
--

CREATE TABLE public.employees (
    employee_id integer NOT NULL,
    hotel_id integer,
    tuser_name character varying(50)
);


--
-- TOC entry 213 (class 1259 OID 267693)
-- Name: employees_employee_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

ALTER TABLE public.employees ALTER COLUMN employee_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.employees_employee_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 228 (class 1259 OID 267808)
-- Name: extraexpenses; Type: TABLE; Schema: public; Owner: -
--

CREATE TABLE public.extraexpenses (
    extra_expense_id integer NOT NULL,
    booking_id integer,
    concept character varying,
    price double precision
);


--
-- TOC entry 227 (class 1259 OID 267806)
-- Name: extraexpenses_extra_expense_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

ALTER TABLE public.extraexpenses ALTER COLUMN extra_expense_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.extraexpenses_extra_expense_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 201 (class 1259 OID 267625)
-- Name: hotels; Type: TABLE; Schema: public; Owner: -
--

CREATE TABLE public.hotels (
    hotel_id integer NOT NULL,
    name character varying(255) NOT NULL,
    address character varying(255) NOT NULL,
    hotel_down_date date
);


--
-- TOC entry 200 (class 1259 OID 267623)
-- Name: hotels_hotel_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

ALTER TABLE public.hotels ALTER COLUMN hotel_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.hotels_hotel_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 230 (class 1259 OID 267823)
-- Name: parkinghistory; Type: TABLE; Schema: public; Owner: -
--

CREATE TABLE public.parkinghistory (
    parking_history_id integer NOT NULL,
    parking_id integer,
    booking_id integer,
    entry_date date,
    exit_date date
);


--
-- TOC entry 229 (class 1259 OID 267821)
-- Name: parkinghistory_parking_history_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

ALTER TABLE public.parkinghistory ALTER COLUMN parking_history_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.parkinghistory_parking_history_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 216 (class 1259 OID 267710)
-- Name: parkings; Type: TABLE; Schema: public; Owner: -
--

CREATE TABLE public.parkings (
    parking_id integer NOT NULL,
    hotel_id integer,
    total_capacity integer,
    occupied_capacity integer,
    description text,
    price numeric(10,2),
    parking_down_date date
);


--
-- TOC entry 215 (class 1259 OID 267708)
-- Name: parkings_parking_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

ALTER TABLE public.parkings ALTER COLUMN parking_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.parkings_parking_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 203 (class 1259 OID 267635)
-- Name: products; Type: TABLE; Schema: public; Owner: -
--

CREATE TABLE public.products (
    product_id integer NOT NULL,
    name character varying(255),
    price double precision
);


--
-- TOC entry 202 (class 1259 OID 267633)
-- Name: products_product_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

ALTER TABLE public.products ALTER COLUMN product_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.products_product_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 236 (class 1259 OID 267869)
-- Name: refrigerator_stock; Type: TABLE; Schema: public; Owner: -
--

CREATE TABLE public.refrigerator_stock (
    stock_id integer NOT NULL,
    fridge_id integer,
    product_id integer,
    stock integer
);


--
-- TOC entry 235 (class 1259 OID 267867)
-- Name: refrigerator_stock_stock_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

ALTER TABLE public.refrigerator_stock ALTER COLUMN stock_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.refrigerator_stock_stock_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 232 (class 1259 OID 267840)
-- Name: refrigerators; Type: TABLE; Schema: public; Owner: -
--

CREATE TABLE public.refrigerators (
    fridge_id integer NOT NULL,
    room_id integer,
    capacity integer
);


--
-- TOC entry 231 (class 1259 OID 267838)
-- Name: refrigerators_fridge_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

ALTER TABLE public.refrigerators ALTER COLUMN fridge_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.refrigerators_fridge_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 217 (class 1259 OID 267723)
-- Name: rooms_room_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

ALTER TABLE public.rooms ALTER COLUMN room_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.rooms_room_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 205 (class 1259 OID 267642)
-- Name: roomtype; Type: TABLE; Schema: public; Owner: -
--

CREATE TABLE public.roomtype (
    type_id integer NOT NULL,
    type character varying,
    price double precision
);


--
-- TOC entry 204 (class 1259 OID 267640)
-- Name: roomtype_type_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

ALTER TABLE public.roomtype ALTER COLUMN type_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.roomtype_type_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 220 (class 1259 OID 267742)
-- Name: seasons; Type: TABLE; Schema: public; Owner: -
--

CREATE TABLE public.seasons (
    season_id integer NOT NULL,
    criteria_id integer NOT NULL,
    start_day integer NOT NULL,
    start_month integer NOT NULL,
    end_day integer NOT NULL,
    end_month integer NOT NULL
);


--
-- TOC entry 219 (class 1259 OID 267740)
-- Name: seasons_season_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

ALTER TABLE public.seasons ALTER COLUMN season_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.seasons_season_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 207 (class 1259 OID 267652)
-- Name: trole; Type: TABLE; Schema: public; Owner: -
--

CREATE TABLE public.trole (
    id_rolename integer NOT NULL,
    rolename character varying(255),
    xmlclientpermission character varying(10485760)
);


--
-- TOC entry 206 (class 1259 OID 267650)
-- Name: trole_id_rolename_seq; Type: SEQUENCE; Schema: public; Owner: -
--

ALTER TABLE public.trole ALTER COLUMN id_rolename ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.trole_id_rolename_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 222 (class 1259 OID 267754)
-- Name: trole_server_permission; Type: TABLE; Schema: public; Owner: -
--

CREATE TABLE public.trole_server_permission (
    id_role_server_permission integer NOT NULL,
    id_rolename integer,
    id_server_permission integer
);


--
-- TOC entry 221 (class 1259 OID 267752)
-- Name: trole_server_permission_id_role_server_permission_seq; Type: SEQUENCE; Schema: public; Owner: -
--

ALTER TABLE public.trole_server_permission ALTER COLUMN id_role_server_permission ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.trole_server_permission_id_role_server_permission_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 209 (class 1259 OID 267662)
-- Name: tserver_permission; Type: TABLE; Schema: public; Owner: -
--

CREATE TABLE public.tserver_permission (
    id_server_permission integer NOT NULL,
    permission_name character varying(10485760)
);


--
-- TOC entry 208 (class 1259 OID 267660)
-- Name: tserver_permission_id_server_permission_seq; Type: SEQUENCE; Schema: public; Owner: -
--

ALTER TABLE public.tserver_permission ALTER COLUMN id_server_permission ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.tserver_permission_id_server_permission_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 210 (class 1259 OID 267670)
-- Name: tuser; Type: TABLE; Schema: public; Owner: -
--

CREATE TABLE public.tuser (
    user_ character varying(50) NOT NULL,
    password character varying(50),
    name character varying(50),
    surname character varying(50),
    email character varying(50),
    nif character varying(50),
    lastpasswordupdate timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    firstlogin boolean DEFAULT true,
    user_blocked timestamp without time zone,
    country_code character varying(2)
);


--
-- TOC entry 224 (class 1259 OID 267771)
-- Name: tuser_role; Type: TABLE; Schema: public; Owner: -
--

CREATE TABLE public.tuser_role (
    id_user_role integer NOT NULL,
    id_rolename integer,
    user_ character varying(50)
);


--
-- TOC entry 223 (class 1259 OID 267769)
-- Name: tuser_role_id_user_role_seq; Type: SEQUENCE; Schema: public; Owner: -
--

ALTER TABLE public.tuser_role ALTER COLUMN id_user_role ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.tuser_role_id_user_role_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 3132 (class 0 OID 267852)
-- Dependencies: 234
-- Data for Name: accesscard_booking; Type: TABLE DATA; Schema: public; Owner: -
--

INSERT INTO public.accesscard_booking VALUES (21, 8, 45);


--
-- TOC entry 3110 (class 0 OID 267682)
-- Dependencies: 212
-- Data for Name: accesscards; Type: TABLE DATA; Schema: public; Owner: -
--

INSERT INTO public.accesscards VALUES (2, 1, true, NULL);
INSERT INTO public.accesscards VALUES (4, 1, true, NULL);
INSERT INTO public.accesscards VALUES (5, 1, true, NULL);
INSERT INTO public.accesscards VALUES (6, 2, true, NULL);
INSERT INTO public.accesscards VALUES (7, 2, true, NULL);
INSERT INTO public.accesscards VALUES (10, 2, true, NULL);
INSERT INTO public.accesscards VALUES (11, 3, true, NULL);
INSERT INTO public.accesscards VALUES (12, 3, true, NULL);
INSERT INTO public.accesscards VALUES (13, 3, true, NULL);
INSERT INTO public.accesscards VALUES (14, 3, true, NULL);
INSERT INTO public.accesscards VALUES (15, 3, true, NULL);
INSERT INTO public.accesscards VALUES (17, 4, true, NULL);
INSERT INTO public.accesscards VALUES (18, 4, true, NULL);
INSERT INTO public.accesscards VALUES (19, 4, true, NULL);
INSERT INTO public.accesscards VALUES (20, 4, true, NULL);
INSERT INTO public.accesscards VALUES (21, 5, true, NULL);
INSERT INTO public.accesscards VALUES (22, 5, true, NULL);
INSERT INTO public.accesscards VALUES (23, 5, true, NULL);
INSERT INTO public.accesscards VALUES (24, 5, true, NULL);
INSERT INTO public.accesscards VALUES (25, 5, true, NULL);
INSERT INTO public.accesscards VALUES (1, 1, true, NULL);
INSERT INTO public.accesscards VALUES (3, 1, true, NULL);
INSERT INTO public.accesscards VALUES (16, 4, true, NULL);
INSERT INTO public.accesscards VALUES (9, 2, true, NULL);
INSERT INTO public.accesscards VALUES (8, 2, true, NULL);


--
-- TOC entry 3124 (class 0 OID 267788)
-- Dependencies: 226
-- Data for Name: bookings; Type: TABLE DATA; Schema: public; Owner: -
--

INSERT INTO public.bookings VALUES (45, 4, '2023-07-26', '2023-07-28', 34, '2023-07-26 11:28:39.20945', '2023-07-26 11:30:59.469299', 660.00);


--
-- TOC entry 3095 (class 0 OID 267608)
-- Dependencies: 197
-- Data for Name: clients; Type: TABLE DATA; Schema: public; Owner: -
--

INSERT INTO public.clients VALUES (34, 'virtudes');


--
-- TOC entry 3097 (class 0 OID 267615)
-- Dependencies: 199
-- Data for Name: criteria; Type: TABLE DATA; Schema: public; Owner: -
--

INSERT INTO public.criteria VALUES (1, 'Weekend', 'Criteria for weekend bookings', 1.2, 'daily', '{"dateFieldLeft":null,"dateFieldRight":null,"operator":"DAY_OF_WEEK","daysField":[6,7]}');
INSERT INTO public.criteria VALUES (2, 'Peak Season', 'Criteria for peak season bookings', 1.5, 'daily', '{"dateFieldLeft":"2020-06-01","dateFieldRight":"2020-08-31","operator":"DATE_BETWEEN_SEASON","daysField":null}');
INSERT INTO public.criteria VALUES (3, 'Off-peak Season', 'Criteria for off-peak season bookings', 0.8, 'daily', '{"dateFieldLeft":"2020-09-01","dateFieldRight":"2020-11-30","operator":"DATE_BETWEEN_SEASON","daysField":null}');
INSERT INTO public.criteria VALUES (4, 'Long Stays', 'Criteria for long stay bookings', 0.8, 'unique', '{"dateFieldLeft":null,"dateFieldRight":null,"operator":"DAYS_BETWEEN","daysField":5}');
INSERT INTO public.criteria VALUES (5, 'Early Booking', 'Criteria for early booking', 0.9, 'unique', '{"dateFieldLeft":null,"dateFieldRight":null,"operator":"DAYS_BEFORE","daysField":10}');


--
-- TOC entry 3112 (class 0 OID 267695)
-- Dependencies: 214
-- Data for Name: employees; Type: TABLE DATA; Schema: public; Owner: -
--

INSERT INTO public.employees VALUES (24, 2, 'gerardo');


--
-- TOC entry 3126 (class 0 OID 267808)
-- Dependencies: 228
-- Data for Name: extraexpenses; Type: TABLE DATA; Schema: public; Owner: -
--

INSERT INTO public.extraexpenses VALUES (36, 45, 'Fridge: Pistachos / Wed Jul 26 11:29:49 CEST 2023', 1.30000000000000004);
INSERT INTO public.extraexpenses VALUES (37, 45, 'Little parking behind the hotel 2023-07-26/2023-07-26', 7);


--
-- TOC entry 3099 (class 0 OID 267625)
-- Dependencies: 201
-- Data for Name: hotels; Type: TABLE DATA; Schema: public; Owner: -
--

INSERT INTO public.hotels VALUES (1, 'Hotel Continental A', 'Direccion Calle Continental A', NULL);
INSERT INTO public.hotels VALUES (2, 'Hotel Continental B', 'Direccion Calle Continental B', NULL);
INSERT INTO public.hotels VALUES (3, 'Hotel Continental C', 'Direccion Calle Continental C', NULL);
INSERT INTO public.hotels VALUES (5, 'Hotel Continental E', 'Direccion Calle Continental E', NULL);
INSERT INTO public.hotels VALUES (4, 'Hotel Continental D', 'Direccion Calle Continental D', NULL);
INSERT INTO public.hotels VALUES (6, 'Hotel Continental F', 'Direccion Calle Continental F', '2023-07-17');


--
-- TOC entry 3128 (class 0 OID 267823)
-- Dependencies: 230
-- Data for Name: parkinghistory; Type: TABLE DATA; Schema: public; Owner: -
--

INSERT INTO public.parkinghistory VALUES (39, 2, 45, '2023-07-26', '2023-07-26');
INSERT INTO public.parkinghistory VALUES (40, 2, 45, '2023-07-26', '2023-07-26');


--
-- TOC entry 3114 (class 0 OID 267710)
-- Dependencies: 216
-- Data for Name: parkings; Type: TABLE DATA; Schema: public; Owner: -
--

INSERT INTO public.parkings VALUES (1, 1, 50, 0, 'Little parking under the stairs', 15.00, NULL);
INSERT INTO public.parkings VALUES (4, 3, 100, 0, 'Big parking behind the hotel', 20.00, NULL);
INSERT INTO public.parkings VALUES (6, 2, 50, 0, 'prueba', 12.30, NULL);
INSERT INTO public.parkings VALUES (5, 1, 60, 2, 'demo', 12.30, NULL);
INSERT INTO public.parkings VALUES (2, 2, 30, 13, 'Little parking behind the hotel', 7.00, NULL);


--
-- TOC entry 3101 (class 0 OID 267635)
-- Dependencies: 203
-- Data for Name: products; Type: TABLE DATA; Schema: public; Owner: -
--

INSERT INTO public.products VALUES (1, 'Coca Cola', 2.20000000000000018);
INSERT INTO public.products VALUES (2, 'Fanta', 2.20000000000000018);
INSERT INTO public.products VALUES (3, 'Pistachos', 1.30000000000000004);
INSERT INTO public.products VALUES (4, 'Cafe', 1.80000000000000004);
INSERT INTO public.products VALUES (5, 'Té Verde', 1.30000000000000004);


--
-- TOC entry 3134 (class 0 OID 267869)
-- Dependencies: 236
-- Data for Name: refrigerator_stock; Type: TABLE DATA; Schema: public; Owner: -
--

INSERT INTO public.refrigerator_stock VALUES (1, -1, 1, 4);
INSERT INTO public.refrigerator_stock VALUES (4, -1, 4, 4);
INSERT INTO public.refrigerator_stock VALUES (36, 4, 3, 2);
INSERT INTO public.refrigerator_stock VALUES (21, -1, 5, 4);
INSERT INTO public.refrigerator_stock VALUES (3, -1, 3, 4);
INSERT INTO public.refrigerator_stock VALUES (2, -1, 2, 5);


--
-- TOC entry 3130 (class 0 OID 267840)
-- Dependencies: 232
-- Data for Name: refrigerators; Type: TABLE DATA; Schema: public; Owner: -
--

INSERT INTO public.refrigerators VALUES (1, 1, 100);
INSERT INTO public.refrigerators VALUES (2, 2, 100);
INSERT INTO public.refrigerators VALUES (3, 3, 100);
INSERT INTO public.refrigerators VALUES (4, 4, 100);
INSERT INTO public.refrigerators VALUES (5, 5, 100);
INSERT INTO public.refrigerators VALUES (6, 6, 100);
INSERT INTO public.refrigerators VALUES (7, 7, 100);
INSERT INTO public.refrigerators VALUES (8, 8, 100);
INSERT INTO public.refrigerators VALUES (9, 9, 100);
INSERT INTO public.refrigerators VALUES (10, 10, 100);
INSERT INTO public.refrigerators VALUES (11, 11, 100);
INSERT INTO public.refrigerators VALUES (12, 12, 100);
INSERT INTO public.refrigerators VALUES (13, 13, 100);
INSERT INTO public.refrigerators VALUES (14, 14, 100);
INSERT INTO public.refrigerators VALUES (15, 15, 100);
INSERT INTO public.refrigerators VALUES (-1, NULL, NULL);


--
-- TOC entry 3116 (class 0 OID 267725)
-- Dependencies: 218
-- Data for Name: rooms; Type: TABLE DATA; Schema: public; Owner: -
--

INSERT INTO public.rooms VALUES (1, 1, 101, NULL, 1);
INSERT INTO public.rooms VALUES (2, 1, 201, NULL, 2);
INSERT INTO public.rooms VALUES (3, 1, 301, NULL, 3);
INSERT INTO public.rooms VALUES (4, 2, 302, NULL, 3);
INSERT INTO public.rooms VALUES (5, 2, 202, NULL, 2);
INSERT INTO public.rooms VALUES (6, 2, 102, NULL, 1);
INSERT INTO public.rooms VALUES (7, 3, 103, NULL, 1);
INSERT INTO public.rooms VALUES (8, 3, 203, NULL, 2);
INSERT INTO public.rooms VALUES (9, 3, 303, NULL, 3);
INSERT INTO public.rooms VALUES (10, 4, 104, NULL, 1);
INSERT INTO public.rooms VALUES (12, 4, 304, NULL, 3);
INSERT INTO public.rooms VALUES (13, 5, 305, NULL, 3);
INSERT INTO public.rooms VALUES (14, 5, 205, NULL, 2);
INSERT INTO public.rooms VALUES (15, 5, 105, NULL, 1);
INSERT INTO public.rooms VALUES (11, 4, 204, NULL, 2);


--
-- TOC entry 3103 (class 0 OID 267642)
-- Dependencies: 205
-- Data for Name: roomtype; Type: TABLE DATA; Schema: public; Owner: -
--

INSERT INTO public.roomtype VALUES (1, 'simple', 160);
INSERT INTO public.roomtype VALUES (2, 'double', 180);
INSERT INTO public.roomtype VALUES (3, 'premium', 220);
INSERT INTO public.roomtype VALUES (4, 'double', 120);


--
-- TOC entry 3118 (class 0 OID 267742)
-- Dependencies: 220
-- Data for Name: seasons; Type: TABLE DATA; Schema: public; Owner: -
--



--
-- TOC entry 3105 (class 0 OID 267652)
-- Dependencies: 207
-- Data for Name: trole; Type: TABLE DATA; Schema: public; Owner: -
--

INSERT INTO public.trole VALUES (0, 'admin', '<?xml version="1.0" encoding="UTF-8"?><security></security>');
INSERT INTO public.trole VALUES (1, 'manager', '<?xml version="1.0" encoding="UTF-8"?><security></security>');


--
-- TOC entry 3120 (class 0 OID 267754)
-- Dependencies: 222
-- Data for Name: trole_server_permission; Type: TABLE DATA; Schema: public; Owner: -
--

INSERT INTO public.trole_server_permission VALUES (1, 0, 1);
INSERT INTO public.trole_server_permission VALUES (2, 0, 2);
INSERT INTO public.trole_server_permission VALUES (3, 0, 3);
INSERT INTO public.trole_server_permission VALUES (4, 0, 4);
INSERT INTO public.trole_server_permission VALUES (5, 0, 5);
INSERT INTO public.trole_server_permission VALUES (6, 0, 6);
INSERT INTO public.trole_server_permission VALUES (7, 0, 7);
INSERT INTO public.trole_server_permission VALUES (8, 0, 8);
INSERT INTO public.trole_server_permission VALUES (9, 0, 9);
INSERT INTO public.trole_server_permission VALUES (10, 0, 10);
INSERT INTO public.trole_server_permission VALUES (11, 0, 11);
INSERT INTO public.trole_server_permission VALUES (12, 0, 12);
INSERT INTO public.trole_server_permission VALUES (13, 0, 13);
INSERT INTO public.trole_server_permission VALUES (14, 0, 14);
INSERT INTO public.trole_server_permission VALUES (15, 0, 15);
INSERT INTO public.trole_server_permission VALUES (16, 0, 16);
INSERT INTO public.trole_server_permission VALUES (17, 0, 17);
INSERT INTO public.trole_server_permission VALUES (18, 0, 18);
INSERT INTO public.trole_server_permission VALUES (19, 0, 19);
INSERT INTO public.trole_server_permission VALUES (20, 0, 20);
INSERT INTO public.trole_server_permission VALUES (21, 0, 21);
INSERT INTO public.trole_server_permission VALUES (22, 0, 22);
INSERT INTO public.trole_server_permission VALUES (23, 0, 23);
INSERT INTO public.trole_server_permission VALUES (24, 0, 24);
INSERT INTO public.trole_server_permission VALUES (25, 0, 25);
INSERT INTO public.trole_server_permission VALUES (26, 0, 26);
INSERT INTO public.trole_server_permission VALUES (27, 0, 27);
INSERT INTO public.trole_server_permission VALUES (28, 0, 28);
INSERT INTO public.trole_server_permission VALUES (29, 0, 29);
INSERT INTO public.trole_server_permission VALUES (30, 0, 30);
INSERT INTO public.trole_server_permission VALUES (31, 0, 31);
INSERT INTO public.trole_server_permission VALUES (32, 0, 32);
INSERT INTO public.trole_server_permission VALUES (33, 0, 33);
INSERT INTO public.trole_server_permission VALUES (34, 0, 34);
INSERT INTO public.trole_server_permission VALUES (35, 0, 35);
INSERT INTO public.trole_server_permission VALUES (36, 0, 36);
INSERT INTO public.trole_server_permission VALUES (37, 0, 37);
INSERT INTO public.trole_server_permission VALUES (38, 0, 38);
INSERT INTO public.trole_server_permission VALUES (39, 0, 39);
INSERT INTO public.trole_server_permission VALUES (40, 0, 40);
INSERT INTO public.trole_server_permission VALUES (41, 0, 41);
INSERT INTO public.trole_server_permission VALUES (42, 0, 42);
INSERT INTO public.trole_server_permission VALUES (43, 0, 43);
INSERT INTO public.trole_server_permission VALUES (44, 0, 44);
INSERT INTO public.trole_server_permission VALUES (45, 0, 45);
INSERT INTO public.trole_server_permission VALUES (46, 0, 46);
INSERT INTO public.trole_server_permission VALUES (47, 0, 47);


--
-- TOC entry 3107 (class 0 OID 267662)
-- Dependencies: 209
-- Data for Name: tserver_permission; Type: TABLE DATA; Schema: public; Owner: -
--

INSERT INTO public.tserver_permission VALUES (1, 'com.hotel.continental.api.core.service.IAccessCardAssignmentService/lostCard');
INSERT INTO public.tserver_permission VALUES (2, 'com.hotel.continental.api.core.service.IAccessCardAssignmentService/accesscardassignmentRecover');
INSERT INTO public.tserver_permission VALUES (3, 'com.hotel.continental.api.core.service.IAccessCardAssignmentService/accesscardassignmentInsert');
INSERT INTO public.tserver_permission VALUES (4, 'com.hotel.continental.api.core.service.IAccessCardService/accesscardQuery');
INSERT INTO public.tserver_permission VALUES (5, 'com.hotel.continental.api.core.service.IBookingService/bookingPrice');
INSERT INTO public.tserver_permission VALUES (6, 'com.hotel.continental.api.core.service.IBookingService/bookingUpdate');
INSERT INTO public.tserver_permission VALUES (7, 'com.hotel.continental.api.core.service.IBookingService/bookingDelete');
INSERT INTO public.tserver_permission VALUES (8, 'com.hotel.continental.api.core.service.IBookingService/bookingQuery');
INSERT INTO public.tserver_permission VALUES (9, 'com.hotel.continental.api.core.service.IBookingService/bookingCheckin');
INSERT INTO public.tserver_permission VALUES (10, 'com.hotel.continental.api.core.service.IBookingService/bookingCheckout');
INSERT INTO public.tserver_permission VALUES (11, 'com.hotel.continental.api.core.service.IBookingService/bookingInsert');
INSERT INTO public.tserver_permission VALUES (12, 'com.hotel.continental.api.core.service.IClientService/clientQuery');
INSERT INTO public.tserver_permission VALUES (13, 'com.hotel.continental.api.core.service.IClientService/clientDelete');
INSERT INTO public.tserver_permission VALUES (14, 'com.hotel.continental.api.core.service.IClientService/clientInsert');
INSERT INTO public.tserver_permission VALUES (15, 'com.hotel.continental.api.core.service.IClientService/clientUpdate');
INSERT INTO public.tserver_permission VALUES (16, 'com.hotel.continental.api.core.service.ICriteriaService/criteriaUpdate');
INSERT INTO public.tserver_permission VALUES (17, 'com.hotel.continental.api.core.service.ICriteriaService/criteriaQuery');
INSERT INTO public.tserver_permission VALUES (18, 'com.hotel.continental.api.core.service.IEmployeeService/employeeQuery');
INSERT INTO public.tserver_permission VALUES (19, 'com.hotel.continental.api.core.service.IEmployeeService/employeeDelete');
INSERT INTO public.tserver_permission VALUES (20, 'com.hotel.continental.api.core.service.IEmployeeService/employeeUpdate');
INSERT INTO public.tserver_permission VALUES (21, 'com.hotel.continental.api.core.service.IEmployeeService/employeeInsert');
INSERT INTO public.tserver_permission VALUES (22, 'com.hotel.continental.api.core.service.IExtraExpensesService/extraexpensesInsert');
INSERT INTO public.tserver_permission VALUES (23, 'com.hotel.continental.api.core.service.IHotelService/hotelDelete');
INSERT INTO public.tserver_permission VALUES (24, 'com.hotel.continental.api.core.service.IHotelService/hotelUpdate');
INSERT INTO public.tserver_permission VALUES (25, 'com.hotel.continental.api.core.service.IHotelService/hotelQuery');
INSERT INTO public.tserver_permission VALUES (26, 'com.hotel.continental.api.core.service.IHotelService/hotelInsert');
INSERT INTO public.tserver_permission VALUES (27, 'com.hotel.continental.api.core.service.IParkingService/parkingEnter');
INSERT INTO public.tserver_permission VALUES (28, 'com.hotel.continental.api.core.service.IParkingService/parkingExit');
INSERT INTO public.tserver_permission VALUES (29, 'com.hotel.continental.api.core.service.IRefrigeratorsService/refrigeratorsInsert');
INSERT INTO public.tserver_permission VALUES (30, 'com.hotel.continental.api.core.service.IRefrigeratorStockService/refrigeratorDefaultUpdate');
INSERT INTO public.tserver_permission VALUES (31, 'com.hotel.continental.api.core.service.IRefrigeratorStockService/refrigeratorstockQuery');
INSERT INTO public.tserver_permission VALUES (32, 'com.hotel.continental.api.core.service.IRefrigeratorStockService/refrigeratorStockUpdate');
INSERT INTO public.tserver_permission VALUES (33, 'com.hotel.continental.api.core.service.IRoleService/roleQuery');
INSERT INTO public.tserver_permission VALUES (34, 'com.hotel.continental.api.core.service.IRoleService/roleDelete');
INSERT INTO public.tserver_permission VALUES (35, 'com.hotel.continental.api.core.service.IRoleService/roleInsert');
INSERT INTO public.tserver_permission VALUES (36, 'com.hotel.continental.api.core.service.IRoleService/roleUpdate');
INSERT INTO public.tserver_permission VALUES (37, 'com.hotel.continental.api.core.service.IRoomService/roomInsert');
INSERT INTO public.tserver_permission VALUES (38, 'com.hotel.continental.api.core.service.IRoomService/roomDelete');
INSERT INTO public.tserver_permission VALUES (39, 'com.hotel.continental.api.core.service.IRoomService/freeRoomsQuery');
INSERT INTO public.tserver_permission VALUES (40, 'com.hotel.continental.api.core.service.IRoomService/roomUpdate');
INSERT INTO public.tserver_permission VALUES (41, 'com.hotel.continental.api.core.service.IRoomService/roomQuery');
INSERT INTO public.tserver_permission VALUES (42, 'com.hotel.continental.api.core.service.IRoomTypeService/roomtypeInsert');
INSERT INTO public.tserver_permission VALUES (43, 'com.hotel.continental.api.core.service.IRoomTypeService/roomtypeUpdate');
INSERT INTO public.tserver_permission VALUES (44, 'com.hotel.continental.api.core.service.IUserService/userInsert');
INSERT INTO public.tserver_permission VALUES (45, 'com.hotel.continental.api.core.service.IUserService/userUpdate');
INSERT INTO public.tserver_permission VALUES (46, 'com.hotel.continental.api.core.service.IUserService/userQuery');
INSERT INTO public.tserver_permission VALUES (47, 'com.hotel.continental.api.core.service.IUserService/userDelete');


--
-- TOC entry 3108 (class 0 OID 267670)
-- Dependencies: 210
-- Data for Name: tuser; Type: TABLE DATA; Schema: public; Owner: -
--

INSERT INTO public.tuser VALUES ('virtudes', 'Abc123..', 'Virtudes', 'Gomez', NULL, '83364635P', '2023-07-26 11:26:24.508898', true, NULL, 'ES');
INSERT INTO public.tuser VALUES ('gerardo', 'Abc123..', 'Gerardo', 'Rivas', NULL, '09983922J', '2023-07-26 11:26:36.291133', true, NULL, 'ES');
INSERT INTO public.tuser VALUES ('demo', 'demouser', 'demo', 'demo', NULL, NULL, NULL, NULL, NULL, 'US');
INSERT INTO public.tuser VALUES ('Schuyler', 'Abc123..', 'Schuyler', 'Bednar', NULL, 'c141b113-fcb5-422e-839b-70edac821011', '2023-07-20 09:35:18.181803', true, NULL, 'LI');


--
-- TOC entry 3122 (class 0 OID 267771)
-- Dependencies: 224
-- Data for Name: tuser_role; Type: TABLE DATA; Schema: public; Owner: -
--

INSERT INTO public.tuser_role VALUES (1, 0, 'demo');
INSERT INTO public.tuser_role VALUES (26, 0, 'gerardo');


--
-- TOC entry 3142 (class 0 OID 0)
-- Dependencies: 233
-- Name: accesscard_booking_access_card_assignment_id_seq; Type: SEQUENCE SET; Schema: public; Owner: -
--

SELECT pg_catalog.setval('public.accesscard_booking_access_card_assignment_id_seq', 21, true);


--
-- TOC entry 3143 (class 0 OID 0)
-- Dependencies: 211
-- Name: accesscards_access_card_id_seq; Type: SEQUENCE SET; Schema: public; Owner: -
--

SELECT pg_catalog.setval('public.accesscards_access_card_id_seq', 1, false);


--
-- TOC entry 3144 (class 0 OID 0)
-- Dependencies: 225
-- Name: bookings_booking_id_seq; Type: SEQUENCE SET; Schema: public; Owner: -
--

SELECT pg_catalog.setval('public.bookings_booking_id_seq', 45, true);


--
-- TOC entry 3145 (class 0 OID 0)
-- Dependencies: 196
-- Name: clients_client_id_seq; Type: SEQUENCE SET; Schema: public; Owner: -
--

SELECT pg_catalog.setval('public.clients_client_id_seq', 34, true);


--
-- TOC entry 3146 (class 0 OID 0)
-- Dependencies: 198
-- Name: criteria_criteria_id_seq; Type: SEQUENCE SET; Schema: public; Owner: -
--

SELECT pg_catalog.setval('public.criteria_criteria_id_seq', 5, true);


--
-- TOC entry 3147 (class 0 OID 0)
-- Dependencies: 213
-- Name: employees_employee_id_seq; Type: SEQUENCE SET; Schema: public; Owner: -
--

SELECT pg_catalog.setval('public.employees_employee_id_seq', 24, true);


--
-- TOC entry 3148 (class 0 OID 0)
-- Dependencies: 227
-- Name: extraexpenses_extra_expense_id_seq; Type: SEQUENCE SET; Schema: public; Owner: -
--

SELECT pg_catalog.setval('public.extraexpenses_extra_expense_id_seq', 37, true);


--
-- TOC entry 3149 (class 0 OID 0)
-- Dependencies: 200
-- Name: hotels_hotel_id_seq; Type: SEQUENCE SET; Schema: public; Owner: -
--

SELECT pg_catalog.setval('public.hotels_hotel_id_seq', 6, true);


--
-- TOC entry 3150 (class 0 OID 0)
-- Dependencies: 229
-- Name: parkinghistory_parking_history_id_seq; Type: SEQUENCE SET; Schema: public; Owner: -
--

SELECT pg_catalog.setval('public.parkinghistory_parking_history_id_seq', 40, true);


--
-- TOC entry 3151 (class 0 OID 0)
-- Dependencies: 215
-- Name: parkings_parking_id_seq; Type: SEQUENCE SET; Schema: public; Owner: -
--

SELECT pg_catalog.setval('public.parkings_parking_id_seq', 6, true);


--
-- TOC entry 3152 (class 0 OID 0)
-- Dependencies: 202
-- Name: products_product_id_seq; Type: SEQUENCE SET; Schema: public; Owner: -
--

SELECT pg_catalog.setval('public.products_product_id_seq', 1, false);


--
-- TOC entry 3153 (class 0 OID 0)
-- Dependencies: 235
-- Name: refrigerator_stock_stock_id_seq; Type: SEQUENCE SET; Schema: public; Owner: -
--

SELECT pg_catalog.setval('public.refrigerator_stock_stock_id_seq', 36, true);


--
-- TOC entry 3154 (class 0 OID 0)
-- Dependencies: 231
-- Name: refrigerators_fridge_id_seq; Type: SEQUENCE SET; Schema: public; Owner: -
--

SELECT pg_catalog.setval('public.refrigerators_fridge_id_seq', 15, true);


--
-- TOC entry 3155 (class 0 OID 0)
-- Dependencies: 217
-- Name: rooms_room_id_seq; Type: SEQUENCE SET; Schema: public; Owner: -
--

SELECT pg_catalog.setval('public.rooms_room_id_seq', 16, true);


--
-- TOC entry 3156 (class 0 OID 0)
-- Dependencies: 204
-- Name: roomtype_type_id_seq; Type: SEQUENCE SET; Schema: public; Owner: -
--

SELECT pg_catalog.setval('public.roomtype_type_id_seq', 4, true);


--
-- TOC entry 3157 (class 0 OID 0)
-- Dependencies: 219
-- Name: seasons_season_id_seq; Type: SEQUENCE SET; Schema: public; Owner: -
--

SELECT pg_catalog.setval('public.seasons_season_id_seq', 1, false);


--
-- TOC entry 3158 (class 0 OID 0)
-- Dependencies: 206
-- Name: trole_id_rolename_seq; Type: SEQUENCE SET; Schema: public; Owner: -
--

SELECT pg_catalog.setval('public.trole_id_rolename_seq', 1, false);


--
-- TOC entry 3159 (class 0 OID 0)
-- Dependencies: 221
-- Name: trole_server_permission_id_role_server_permission_seq; Type: SEQUENCE SET; Schema: public; Owner: -
--

SELECT pg_catalog.setval('public.trole_server_permission_id_role_server_permission_seq', 47, true);


--
-- TOC entry 3160 (class 0 OID 0)
-- Dependencies: 208
-- Name: tserver_permission_id_server_permission_seq; Type: SEQUENCE SET; Schema: public; Owner: -
--

SELECT pg_catalog.setval('public.tserver_permission_id_server_permission_seq', 47, true);


--
-- TOC entry 3161 (class 0 OID 0)
-- Dependencies: 223
-- Name: tuser_role_id_user_role_seq; Type: SEQUENCE SET; Schema: public; Owner: -
--

SELECT pg_catalog.setval('public.tuser_role_id_user_role_seq', 26, true);


--
-- TOC entry 2947 (class 2606 OID 267856)
-- Name: accesscard_booking accesscard_booking_pkey; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.accesscard_booking
    ADD CONSTRAINT accesscard_booking_pkey PRIMARY KEY (access_card_assignment_id);


--
-- TOC entry 2925 (class 2606 OID 267687)
-- Name: accesscards accesscards_pkey; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.accesscards
    ADD CONSTRAINT accesscards_pkey PRIMARY KEY (access_card_id);


--
-- TOC entry 2909 (class 2606 OID 267612)
-- Name: clients clients_pkey; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.clients
    ADD CONSTRAINT clients_pkey PRIMARY KEY (client_id);


--
-- TOC entry 2911 (class 2606 OID 267622)
-- Name: criteria criteria_pkey; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.criteria
    ADD CONSTRAINT criteria_pkey PRIMARY KEY (criteria_id);


--
-- TOC entry 2927 (class 2606 OID 267702)
-- Name: employees employees_pkey; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.employees
    ADD CONSTRAINT employees_pkey PRIMARY KEY (employee_id);


--
-- TOC entry 2941 (class 2606 OID 267815)
-- Name: extraexpenses extraexpenses_pkey; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.extraexpenses
    ADD CONSTRAINT extraexpenses_pkey PRIMARY KEY (extra_expense_id);


--
-- TOC entry 2931 (class 2606 OID 267729)
-- Name: rooms habitaciones_pkey; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.rooms
    ADD CONSTRAINT habitaciones_pkey PRIMARY KEY (room_id);


--
-- TOC entry 2913 (class 2606 OID 267632)
-- Name: hotels hoteles_pkey; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.hotels
    ADD CONSTRAINT hoteles_pkey PRIMARY KEY (hotel_id);


--
-- TOC entry 2943 (class 2606 OID 267827)
-- Name: parkinghistory parkinghistory_pkey; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.parkinghistory
    ADD CONSTRAINT parkinghistory_pkey PRIMARY KEY (parking_history_id);


--
-- TOC entry 2929 (class 2606 OID 267717)
-- Name: parkings parkings_pkey; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.parkings
    ADD CONSTRAINT parkings_pkey PRIMARY KEY (parking_id);


--
-- TOC entry 2915 (class 2606 OID 267639)
-- Name: products products_pkey; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.products
    ADD CONSTRAINT products_pkey PRIMARY KEY (product_id);


--
-- TOC entry 2949 (class 2606 OID 267873)
-- Name: refrigerator_stock refrigerator_stock_pkey; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.refrigerator_stock
    ADD CONSTRAINT refrigerator_stock_pkey PRIMARY KEY (stock_id);


--
-- TOC entry 2945 (class 2606 OID 267844)
-- Name: refrigerators refrigerators_pkey; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.refrigerators
    ADD CONSTRAINT refrigerators_pkey PRIMARY KEY (fridge_id);


--
-- TOC entry 2939 (class 2606 OID 267795)
-- Name: bookings reservas_pkey; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.bookings
    ADD CONSTRAINT reservas_pkey PRIMARY KEY (booking_id);


--
-- TOC entry 2917 (class 2606 OID 267649)
-- Name: roomtype roomtype_pkey; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.roomtype
    ADD CONSTRAINT roomtype_pkey PRIMARY KEY (type_id);


--
-- TOC entry 2933 (class 2606 OID 267746)
-- Name: seasons seasons_pkey; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.seasons
    ADD CONSTRAINT seasons_pkey PRIMARY KEY (season_id);


--
-- TOC entry 2919 (class 2606 OID 267659)
-- Name: trole trole_pkey; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.trole
    ADD CONSTRAINT trole_pkey PRIMARY KEY (id_rolename);


--
-- TOC entry 2935 (class 2606 OID 267758)
-- Name: trole_server_permission trole_server_permission_pkey; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.trole_server_permission
    ADD CONSTRAINT trole_server_permission_pkey PRIMARY KEY (id_role_server_permission);


--
-- TOC entry 2921 (class 2606 OID 267669)
-- Name: tserver_permission tserver_permission_pkey; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.tserver_permission
    ADD CONSTRAINT tserver_permission_pkey PRIMARY KEY (id_server_permission);


--
-- TOC entry 2923 (class 2606 OID 267679)
-- Name: tuser tuser_pkey; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.tuser
    ADD CONSTRAINT tuser_pkey PRIMARY KEY (user_);


--
-- TOC entry 2937 (class 2606 OID 267775)
-- Name: tuser_role tuser_role_pkey; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.tuser_role
    ADD CONSTRAINT tuser_role_pkey PRIMARY KEY (id_user_role);


--
-- TOC entry 2968 (class 2606 OID 267857)
-- Name: accesscard_booking accesscard_booking_accesscardid_fkey; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.accesscard_booking
    ADD CONSTRAINT accesscard_booking_accesscardid_fkey FOREIGN KEY (access_card_id) REFERENCES public.accesscards(access_card_id);


--
-- TOC entry 2969 (class 2606 OID 284841)
-- Name: accesscard_booking accesscard_booking_bookingid_fkey; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.accesscard_booking
    ADD CONSTRAINT accesscard_booking_bookingid_fkey FOREIGN KEY (booking_id) REFERENCES public.bookings(booking_id) ON DELETE CASCADE;


--
-- TOC entry 2962 (class 2606 OID 267796)
-- Name: bookings bookings_clientid_fkey; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.bookings
    ADD CONSTRAINT bookings_clientid_fkey FOREIGN KEY (client_id) REFERENCES public.clients(client_id);


--
-- TOC entry 2953 (class 2606 OID 267703)
-- Name: employees employees_hotelid_fkey; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.employees
    ADD CONSTRAINT employees_hotelid_fkey FOREIGN KEY (hotel_id) REFERENCES public.hotels(hotel_id);


--
-- TOC entry 2964 (class 2606 OID 284836)
-- Name: extraexpenses extraexpenses_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.extraexpenses
    ADD CONSTRAINT extraexpenses_fk FOREIGN KEY (booking_id) REFERENCES public.bookings(booking_id) ON DELETE CASCADE;


--
-- TOC entry 2951 (class 2606 OID 267688)
-- Name: accesscards fk_accesscards_hotels; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.accesscards
    ADD CONSTRAINT fk_accesscards_hotels FOREIGN KEY (hotel_id) REFERENCES public.hotels(hotel_id);


--
-- TOC entry 2961 (class 2606 OID 267776)
-- Name: tuser_role fk_trole; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.tuser_role
    ADD CONSTRAINT fk_trole FOREIGN KEY (id_rolename) REFERENCES public.trole(id_rolename) ON DELETE CASCADE;


--
-- TOC entry 2958 (class 2606 OID 267759)
-- Name: trole_server_permission fk_trole_server_permission; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.trole_server_permission
    ADD CONSTRAINT fk_trole_server_permission FOREIGN KEY (id_rolename) REFERENCES public.trole(id_rolename) ON DELETE CASCADE;


--
-- TOC entry 2959 (class 2606 OID 267764)
-- Name: trole_server_permission fk_tserver_permission; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.trole_server_permission
    ADD CONSTRAINT fk_tserver_permission FOREIGN KEY (id_server_permission) REFERENCES public.tserver_permission(id_server_permission);


--
-- TOC entry 2960 (class 2606 OID 284856)
-- Name: tuser_role fk_tuser; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.tuser_role
    ADD CONSTRAINT fk_tuser FOREIGN KEY (user_) REFERENCES public.tuser(user_) ON DELETE CASCADE;


--
-- TOC entry 2950 (class 2606 OID 284846)
-- Name: clients fk_tuser_name; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.clients
    ADD CONSTRAINT fk_tuser_name FOREIGN KEY (tuser_name) REFERENCES public.tuser(user_) ON DELETE CASCADE;


--
-- TOC entry 2952 (class 2606 OID 284851)
-- Name: employees fk_tuser_name; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.employees
    ADD CONSTRAINT fk_tuser_name FOREIGN KEY (tuser_name) REFERENCES public.tuser(user_) ON DELETE CASCADE;


--
-- TOC entry 2955 (class 2606 OID 267730)
-- Name: rooms habitaciones_idhotel_fkey; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.rooms
    ADD CONSTRAINT habitaciones_idhotel_fkey FOREIGN KEY (hotel_id) REFERENCES public.hotels(hotel_id);


--
-- TOC entry 2966 (class 2606 OID 284831)
-- Name: parkinghistory parkinghistory_id_booking_fkey; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.parkinghistory
    ADD CONSTRAINT parkinghistory_id_booking_fkey FOREIGN KEY (booking_id) REFERENCES public.bookings(booking_id) ON DELETE CASCADE;


--
-- TOC entry 2965 (class 2606 OID 267833)
-- Name: parkinghistory parkinghistory_id_parking_fkey; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.parkinghistory
    ADD CONSTRAINT parkinghistory_id_parking_fkey FOREIGN KEY (parking_id) REFERENCES public.parkings(parking_id);


--
-- TOC entry 2954 (class 2606 OID 267718)
-- Name: parkings parkings_id_hotel_fkey; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.parkings
    ADD CONSTRAINT parkings_id_hotel_fkey FOREIGN KEY (hotel_id) REFERENCES public.hotels(hotel_id);


--
-- TOC entry 2970 (class 2606 OID 267874)
-- Name: refrigerator_stock refrigerator_stock_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.refrigerator_stock
    ADD CONSTRAINT refrigerator_stock_fk FOREIGN KEY (fridge_id) REFERENCES public.refrigerators(fridge_id);


--
-- TOC entry 2971 (class 2606 OID 267879)
-- Name: refrigerator_stock refrigerator_stock_fk_1; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.refrigerator_stock
    ADD CONSTRAINT refrigerator_stock_fk_1 FOREIGN KEY (product_id) REFERENCES public.products(product_id);


--
-- TOC entry 2967 (class 2606 OID 267845)
-- Name: refrigerators refrigerators_room_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.refrigerators
    ADD CONSTRAINT refrigerators_room_id_fkey FOREIGN KEY (room_id) REFERENCES public.rooms(room_id);


--
-- TOC entry 2963 (class 2606 OID 267801)
-- Name: bookings reservas_idhabitacion_fkey; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.bookings
    ADD CONSTRAINT reservas_idhabitacion_fkey FOREIGN KEY (room_id) REFERENCES public.rooms(room_id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- TOC entry 2956 (class 2606 OID 267735)
-- Name: rooms rooms_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.rooms
    ADD CONSTRAINT rooms_fk FOREIGN KEY (room_type_id) REFERENCES public.roomtype(type_id);


--
-- TOC entry 2957 (class 2606 OID 267747)
-- Name: seasons seasons_criteria_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.seasons
    ADD CONSTRAINT seasons_criteria_id_fkey FOREIGN KEY (criteria_id) REFERENCES public.criteria(criteria_id);


-- Completed on 2023-07-27 08:19:51

--
-- PostgreSQL database dump complete
--

